# Лабораторная работа. Базовая настройка коммутатора
## Топология
![](./screen/Topology.png)
## Таблица адресации
|Устройство|Интерфейс|IP адрес   |
| ------------ | ------------ | ------------ |
| S1|Vlan 1|192.168.1.2|
|   |   |255.255.255.0|
| PC-PT|NIC|192.168.1.10|
|   |   |255.255.255.0|
## Задачи
#### Часть 1. Проверка конфигурации коммутатора по умолчанию
#### Часть 2. Создание сети и настройка основных параметров устройства
•	Настройте базовые параметры коммутатора.<br>
•	Настройте IP-адрес для ПК.
#### Часть 3. Проверка сетевых подключений
•	Отобразите конфигурацию устройства.<br>
•	Протестируйте сквозное соединение, отправив эхо-запрос.<br>
•	Протестируйте возможности удаленного управления с помощью Telnet.
## Часть 1. Создание сети и проверка настроек коммутатора по умолчанию
В первой части лабораторной работы вам предстоит настроить топологию сети и проверить настройку коммутатора по умолчанию.
### Шаг 1. Создайте сеть согласно топологии.
a.	Подсоедините консольный кабель, как показано в топологии. На данном этапе не подключайте кабель Ethernet компьютера PC-A.<br>
b.	Установите консольное подключение к коммутатору с компьютера PC-A с помощью Tera Term или другой программы эмуляции терминала.

![](./screen/Connect.png)
#### Вопрос <br>
Почему нужно использовать консольное подключение для первоначальной настройки коммутатора? Почему нельзя подключиться к коммутатору через Telnet или SSH?<br>
#### Ответ <br>
На текущем этапе, не задан IP адрес, а также не заданы настройки авторизации для данных протоколов
### Шаг 2. Проверьте настройки коммутатора по умолчанию.<br>
a.	Предположим, что коммутатор не имеет файла конфигурации, сохраненного в энергонезависимой памяти (NVRAM). Консольное подключение к коммутатору с помощью Tera Term или другой программы эмуляции терминала предоставит доступ к командной строке пользовательского режима EXEC в виде Switch>. Введите команду enable, чтобы войти в привилегированный режим EXEC.
Откройте окно конфигурации
Обратите внимание, что измененная в конфигурации строка будет отражать привилегированный режим EXEC.
Убедитесь, что на коммутаторе находится пустой файл конфигурации по умолчанию, с помощью команды show running-config привилегированного режима EXEC.<br> Если конфигурационный файл был предварительно сохранен, его нужно удалить. В зависимости от модели коммутатора и версии IOS ваша конфигурация может слегка отличаться. Тем не менее, настроенных паролей или IP-адресов в конфигурации быть не должно. Выполните очистку настроек и перезагрузите коммутатор, если ваш коммутатор имеет настройки, отличные от настроек по умолчанию.<br>

            Switch#show running-config
            Building configuration...
            Current configuration : 1080 bytes<
            !
            version 15.0
            no service timestamps log datetime msec
            no service timestamps debug datetime msec
            no service password-encryption
            !
            hostname Switch
            !
            !
            !
            !
            !
            !
            spanning-tree mode pvst
            spanning-tree extend system-id
            !
            interface FastEthernet0/1
            !
            interface FastEthernet0/2
            !
            interface FastEthernet0/3
            !
            interface FastEthernet0/4
            !
            interface FastEthernet0/5
            !
            interface FastEthernet0/6
            !
            interface FastEthernet0/7
            !
            interface FastEthernet0/8
            !
            interface FastEthernet0/9
            !
            interface FastEthernet0/10
            !
            interface FastEthernet0/11
            !
            interface FastEthernet0/12
            !
            interface FastEthernet0/13
            !
            interface FastEthernet0/14
            !
            interface FastEthernet0/15<br>
            !
            interface FastEthernet0/16<br>
            !
            interface FastEthernet0/17<br>
            !
            interface FastEthernet0/18<br>
            !
            interface FastEthernet0/19<br>
            !
            interface FastEthernet0/20<br>
            !
            interface FastEthernet0/21<br>
            !
            interface FastEthernet0/22<br>
            !
            interface FastEthernet0/23<br>
            !
            interface FastEthernet0/24<br>
            !
            interface GigabitEthernet0/1<br>
            !
            interface GigabitEthernet0/2<br>
            !
            interface Vlan1
            no ip address
            shutdown
            !
            !
            !
            !
            line con 0
            !
            line vty 0 4
            login
            line vty 5 15
            login
            !
            !
            !
            !
            end
b.	Изучите текущий файл running configuration.
#### Вопрос <br>
Сколько интерфейсов FastEthernet имеется на коммутаторе 2960?<br>
#### Ответ <br>
24
#### Вопрос <br>
Сколько интерфейсов Gigabit Ethernet имеется на коммутаторе 2960?<br>
#### Ответ <br>
2
#### Вопрос <br>
Каков диапазон значений, отображаемых в vty-линиях?<br>
#### Ответ <br>
0-15<br>
c.	Изучите файл загрузочной конфигурации (startup configuration), который содержится в энергонезависимом ОЗУ (NVRAM).<br>

Switch#show startup-config<br>
startup-config is not present<br>
#### Вопрос <br>
Почему появляется это сообщение?<br>
#### Овтет <br>
В энергонезависимой памяти отсутствует сохраненная конфигурация, поскольку на текущий момент конфигурация не сохранялась<br>

d.	Изучите характеристики SVI для VLAN 1.<br>
#### Вопрос <br>
Назначен ли IP-адрес сети VLAN 1?<br>
#### Ответ <br>
Нет, не назначен
#### Вопрос <br>
Какой MAC-адрес имеет SVI? Возможны различные варианты ответов.<br>
#### Ответ <br>
            Switch#show interfaces vlan 1 <br>
            Hardware is CPU Interface, address is 0001.c748.a85d (bia 0001.c748.a85d)<br>
#### Вопрос <br>
Данный интерфейс включен?
#### Ответ <br>
Нет, не включен<br>

e.	Изучите IP-свойства интерфейса SVI сети VLAN 1.
#### Вопрос <br>
Какие выходные данные вы видите?
#### Ответ <br>
Название Vlan1<br>
Ip адрес Не задан<br>
Метод получения адреса Ручной<br>
Статус интерфейса administratively down<br>
Протокол down<br>

f. Подсоедините кабель Ethernet компьютера PC-A к порту 6 на коммутаторе и изучите IP-свойства интерфейса SVI сети VLAN 1. Дождитесь согласования параметров скорости и дуплекса между коммутатором и ПК.<br>
#### Вопрос <br>
Какие выходные данные вы видите?
#### Ответ <br>
Данные не изменились
g.	Изучите сведения о версии ОС Cisco IOS на коммутаторе.
#### Вопрос <br>
Под управлением какой версии ОС Cisco IOS работает коммутатор?<br>
#### Ответ <br>
            Switch#show version <br>
            Cisco IOS Software, C2960 Software (C2960-LANBASEK9-M), Version 15.0(2)SE4, RELEASE SOFTWARE (fc1)<br>
#### Вопрос <br>
Как называется файл образа системы?<br>
#### Ответ <br>
            System image file is "flash:c2960-lanbasek9-mz.150-2.SE4.bin"<br>
h.Изучите свойства по умолчанию интерфейса FastEthernet, который используется компьютером PC-A.<br>
Switch# show interface f0/6 
#### Вопрос <br>
Интерфейс включен или выключен?<br>
#### Ответ <br>
Включен<br>
#### Вопрос <br>
Что нужно сделать, чтобы включить интерфейс?<br>
#### Ответ <br>
Интерфейс включился после соединения физического соединения с ПК<br>
#### Вопрос <br>
Какой MAC-адрес у интерфейса?<br>
#### Ответ <br>
            Switch#show interface f0/6
            FastEthernet0/6 is up, line protocol is up (connected)
            Hardware is Lance, address is 0002.1681.9306 (bia 0002.1681.9306)
#### Вопрос <br>
Какие настройки скорости и дуплекса заданы в интерфейсе?<br>
#### Ответ <br>
Full-duplex, 100Mb/s
i.	Изучите флеш-память.
Выполните одну из следующих команд, чтобы изучить содержимое флеш-каталога.
Switch# show flash 
Switch# dir flash: 
В конце имени файла указано расширение, например .bin. Каталоги не имеют расширения файла.
#### Вопрос <br>
Какое имя присвоено образу Cisco IOS?<br>
#### Ответ <br>
2960-lanbasek9-mz.150-2.SE4.bin<br>

## Часть 2. Настройка базовых параметров сетевых устройств<br>
Во второй части необходимо будет настроить основные параметры коммутатора и компьютера.
### Шаг 1. Настройте базовые параметры коммутатора.
a.	В режиме глобальной конфигурации скопируйте следующие базовые параметры конфигурации и вставьте их в файл на коммутаторе S1. 
no ip domain-lookup<br>
hostname S1<br>
service password-encryption<br>
enable secret class<br>
banner motd #Unauthorized access is strictly prohibitsed. #<br>
b.	Назначьте IP-адрес интерфейсу SVI на коммутаторе. Благодаря этому вы получите возможность удаленного управления коммутатором.
Прежде чем вы сможете управлять коммутатором S1 удаленно с компьютера PC-A, коммутатору нужно назначить IP-адрес. Согласно конфигурации по умолчанию коммутатором можно управлять через VLAN 1.

            S1(config)#interface vlan 1
            S1(config-if)#ip address 192.168.1.2 255.255.255.0
c.	Доступ через порт консоли также следует ограничить  с помощью пароля. Используйте cisco в качестве пароля для входа в консоль в этом задании. Конфигурация по умолчанию разрешает все консольные подключения без пароля. Чтобы консольные сообщения не прерывали выполнение команд, используйте параметр logging synchronous.

            line con 0
            password 7 0822455D0A16
            logging synchronous
            login

d.	Настройте каналы виртуального соединения для удаленного управления (vty), чтобы коммутатор разрешил доступ через Telnet. Если не настроить пароль VTY, будет невозможно подключиться к коммутатору по протоколу Telnet.

            line vty 0 4
            password 7 0822455D0A16
            login
            transport input telnet
#### Вопрос <br>
Для чего нужна команда login?
#### Ответ <br>
Включает проверку пароля при подключении<br>
### Шаг 2. Настройте IP-адрес на компьютере PC-A.
Назначьте компьютеру IP-адрес и маску подсети в соответствии с таблицей адресации.
1)	Перейдите в Панель управления. (Control Panel)
2)	В представлении «Категория» выберите « Просмотр состояния сети и задач».
3)	Щелкните Изменение параметров адаптера на левой панели.
4)	Щелкните правой кнопкой мыши интерфейс Ethernet и выберите «Свойства» .
5)	Выберите Протокол Интернета версии 4 (TCP/IPv4) > Свойства.
6)	Выберите Использовать следующий IP-адрес и введите IP-адрес и маску подсети  и нажмите ОК.

![](./screen/IPconf.png)
## Часть 3. Проверка сетевых подключений
В третьей части лабораторной работы вам предстоит проверить и задокументировать конфигурацию коммутатора, протестировать сквозное соединение между компьютером PC-A и коммутатором S1, а также протестировать возможность удаленного управления коммутатором.
### Шаг 1. Отобразите конфигурацию коммутатора.
            S1#show running-config 
            Building configuration...
            
            Current configuration : 1350 bytes
            !
            version 15.0
            no service timestamps log datetime msec
            no service timestamps debug datetime msec
            service password-encryption
            !
            hostname S1
            !
            enable secret 5 $1$mERr$9cTjUIEqNGurQiFU.ZeCi1
            !
            !
            !
            no ip domain-lookup
            !
            !
            !
            spanning-tree mode pvst
            spanning-tree extend system-id
            !
            interface FastEthernet0/1
            !
            interface FastEthernet0/2
            !
            interface FastEthernet0/3
            !
            interface FastEthernet0/4
            !
            interface FastEthernet0/5
            !
            interface FastEthernet0/6
            !
            interface FastEthernet0/7
            !
            interface FastEthernet0/8
            !
            interface FastEthernet0/9
            !
            interface FastEthernet0/10
            !
            interface FastEthernet0/11
            !
            interface FastEthernet0/12
            !
            interface FastEthernet0/13
            !
            interface FastEthernet0/14
            !
            interface FastEthernet0/15
            !
            interface FastEthernet0/16
            !
            interface FastEthernet0/17
            !
            interface FastEthernet0/18
            !
            interface FastEthernet0/19
            !
            interface FastEthernet0/20
            !
            interface FastEthernet0/21
            !
            interface FastEthernet0/22
            !
            interface FastEthernet0/23
            !
            interface FastEthernet0/24
            !
            interface GigabitEthernet0/1
            !
            interface GigabitEthernet0/2
            !
            interface Vlan1
             ip address 192.168.1.2 255.255.255.0
            !
            banner motd ^C
            Unauthorized access is strictly prohibited. ^C
            !
            !
            !
            line con 0
             password 7 0822455D0A16
             logging synchronous
             login
            !
            line vty 0 4
             password 7 0822455D0A16
             login
             transport input telnet
            line vty 5 15
             login
            !
            !
            !
            !
            end
b.	Проверьте параметры VLAN 1.
S1# show interface vlan 1 
#### Вопрос <br>
Какова полоса пропускания этого интерфейса?<br>
#### Ответ <br>
100 Мбит/с<br>

###Шаг 2. Протестируйте сквозное соединение, отправив эхо-запрос.
a.	В командной строке компьютера PC-A с помощью утилиты ping проверьте связь сначала с адресом PC-A.<br>
C:\> ping 192.168.1.10 <br>
b.	Из командной строки компьютера PC-A отправьте эхо-запрос на административный адрес интерфейса SVI коммутатора S1.<br>
C:\> ping 192.168.1.2<br>
Поскольку компьютеру PC-A нужно преобразовать МАС-адрес коммутатора S1 с помощью ARP, время ожидания передачи первого пакета может истечь. Если эхо-запрос не удается, найдите и устраните неполадки базовых настроек устройства. Проверьте как физические кабели, так и логическую адресацию.

![](./screen/Ping.png)

### Шаг 3. Проверьте удаленное управление коммутатором S1.
После этого используйте удаленный доступ к устройству с помощью Telnet. В этой лабораторной работе устройства PC-A и S1 расположены рядом. В производственной сети коммутатор может находиться в коммутационном шкафу на последнем этаже, в то время как административный компьютер находится на первом этаже. На данном этапе вам предстоит использовать Telnet для удаленного доступа к коммутатору S1 через его административный адрес SVI. Telnet — это не безопасный протокол, но вы можете использовать его для проверки удаленного доступа. В случае с Telnet вся информация, включая пароли и команды, отправляется через сеанс в незашифрованном виде. В последующих лабораторных работах вы будете использовать протокол SSH для удаленного доступа к сетевым устройствам.<br>
a.	Откройте Tera Term или другую программу эмуляции терминала с возможностью Telnet. <br>
b.	Выберите сервер Telnet и укажите адрес управления SVI для подключения к S1.  Пароль: cisco.<br>
c.	После ввода пароля cisco вы окажетесь в командной строке пользовательского режима. Для перехода в исполнительский режим EXEC введите команду enable и используйте секретный пароль class.<br>
d.	Сохраните конфигурацию.<br>
e.	Чтобы завершить сеанс Telnet, введите exit.<br>
![](./screen/TelnetConnectWithPass.png)
